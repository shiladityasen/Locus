from sqlalchemy.orm import sessionmaker
from sqlalchemy import create_engine
from models import Region

__author__ = 'udaymittal'
'''For now run this file only once. Needs to be organized'''

# create postgres engine
engine = create_engine('postgresql://udaymittal:root@localhost/locus')

# Create region table
Region.__table__.create(engine)

# Insert seed data with the following regions
northwest = Region(name='NORTH-EAST', regionboundary='Polygon((-117.84293016891291472 33.64825334189644224, -117.8428418279120109 33.64599663087331294, -117.84048874488789238 33.64467151585973426, -117.84002294688312418 33.64517746886491523, -117.83983020288114574 33.64549067786812486, -117.83981414088098916 33.64605284787388939, -117.83983823388122403 33.64646242887808825, -117.84012734988419879 33.64708081588442212, -117.84053693088839054 33.64743417988804453, -117.84130790689629009 33.6479401328932326, -117.84199054190328582 33.64815696989545302, -117.84243224690781915 33.64822121789610776, -117.84293016891291472 33.64825334189644224))')
south = Region(name='NORTH-WEST', regionboundary = 'Polygon((-117.84294623091308551 33.64826137289652053, -117.8428418279120109 33.64600466187339123, -117.84509853893513309 33.64471970186022531, -117.84551615093941734 33.64519353086507891, -117.84565267794081933 33.64579585587125621, -117.84559646094024288 33.64671138988063603, -117.84521900393636429 33.64730568388672793, -117.84452833792929027 33.6478196678919943, -117.84370917592089256 33.64816500089553131, -117.84294623091308551 33.64826137289652053))')
northeast = Region(name='SOUTH', regionboundary= 'Polygon((-117.84511460093530388 33.64472773286031071, -117.84448015192880632 33.6442619348555354, -117.84372523792106335 33.64392463285207668, -117.8428418279120109 33.64382826085108746, -117.84190220090238199 33.64396478785248945, -117.84117941089498061 33.64424587285537172, -117.84064936488954345 33.64458317485883043, -117.84048874488789238 33.64467151585973426, -117.84284985891208919 33.64601269287347662, -117.84511460093530388 33.64472773286031071))')

# Start a session
Session = sessionmaker(bind=engine);
session = Session()

# Add the seed data
session.add(northeast)
session.add(northwest)
session.add(south)

# Commit changes in the session
session.commit()

